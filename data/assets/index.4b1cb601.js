(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function n(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerpolicy&&(u.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?u.credentials="include":s.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(s){if(s.ep)return;s.ep=!0;const u=n(s);fetch(s.href,u)}})();function F(){}function Q(t){return t()}function W(){return Object.create(null)}function P(t){t.forEach(Q)}function lt(t){return typeof t=="function"}function R(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function st(t){return Object.keys(t).length===0}function r(t,e){t.appendChild(e)}function V(t,e,n){t.insertBefore(e,n||null)}function U(t){t.parentNode.removeChild(t)}function c(t){return document.createElement(t)}function ot(t){return document.createTextNode(t)}function g(){return ot(" ")}function rt(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function d(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function it(t){return Array.from(t.childNodes)}function L(t,e,n){t.classList[n?"add":"remove"](e)}let B;function N(t){B=t}function at(){if(!B)throw new Error("Function called outside component initialization");return B}function ct(t){at().$$.on_mount.push(t)}const O=[],I=[],k=[],G=[],ut=Promise.resolve();let J=!1;function dt(){J||(J=!0,ut.then(X))}function K(t){k.push(t)}const z=new Set;let D=0;function X(){const t=B;do{for(;D<O.length;){const e=O[D];D++,N(e),ft(e.$$)}for(N(null),O.length=0,D=0;I.length;)I.pop()();for(let e=0;e<k.length;e+=1){const n=k[e];z.has(n)||(z.add(n),n())}k.length=0}while(O.length);for(;G.length;)G.pop()();J=!1,z.clear(),N(t)}function ft(t){if(t.fragment!==null){t.update(),P(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(K)}}const H=new Set;let pt;function Y(t,e){t&&t.i&&(H.delete(t),t.i(e))}function vt(t,e,n,l){if(t&&t.o){if(H.has(t))return;H.add(t),pt.c.push(()=>{H.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function ht(t){t&&t.c()}function Z(t,e,n,l){const{fragment:s,on_mount:u,on_destroy:f,after_update:p}=t.$$;s&&s.m(e,n),l||K(()=>{const v=u.map(Q).filter(lt);f?f.push(...v):P(v),t.$$.on_mount=[]}),p.forEach(K)}function tt(t,e){const n=t.$$;n.fragment!==null&&(P(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function mt(t,e){t.$$.dirty[0]===-1&&(O.push(t),dt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function et(t,e,n,l,s,u,f,p=[-1]){const v=B;N(t);const a=t.$$={fragment:null,ctx:null,props:u,update:F,not_equal:s,bound:W(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(v?v.$$.context:[])),callbacks:W(),dirty:p,skip_bound:!1,root:e.target||v.$$.root};f&&f(a.root);let m=!1;if(a.ctx=n?n(t,e.props||{},(o,i,...h)=>{const w=h.length?h[0]:i;return a.ctx&&s(a.ctx[o],a.ctx[o]=w)&&(!a.skip_bound&&a.bound[o]&&a.bound[o](w),m&&mt(t,o)),i}):[],a.update(),m=!0,P(a.before_update),a.fragment=l?l(a.ctx):!1,e.target){if(e.hydrate){const o=it(e.target);a.fragment&&a.fragment.l(o),o.forEach(U)}else a.fragment&&a.fragment.c();e.intro&&Y(t.$$.fragment),Z(t,e.target,e.anchor,e.customElement),X()}N(v)}class nt{$destroy(){tt(this,1),this.$destroy=F}$on(e,n){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!st(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function _t(t){let e,n,l,s,u,f,p,v,a,m,o,i,h,w,b,y,C,_,j,A,$,M,q,T,x;return{c(){e=c("main"),n=c("ul"),l=c("li"),s=c("div"),s.innerHTML=`<div class="cap-top svelte-1lj78j6"></div> 
        <div class="cap-seal svelte-1lj78j6"></div>`,u=g(),f=c("div"),p=c("div"),v=g(),a=c("li"),m=c("div"),m.innerHTML=`<div class="cap-top svelte-1lj78j6"></div> 
        <div class="cap-seal svelte-1lj78j6"></div>`,o=g(),i=c("div"),h=c("div"),w=g(),b=c("li"),y=c("div"),y.innerHTML=`<div class="cap-top svelte-1lj78j6"></div> 
        <div class="cap-seal svelte-1lj78j6"></div>`,C=g(),_=c("div"),j=c("div"),A=g(),$=c("li"),M=c("div"),M.innerHTML=`<div class="cap-top svelte-1lj78j6"></div> 
        <div class="cap-seal svelte-1lj78j6"></div>`,q=g(),T=c("div"),x=c("div"),d(s,"class","cap svelte-1lj78j6"),d(p,"id","lvl"),d(p,"class","water-low svelte-1lj78j6"),L(p,"water-selected",t[0][0]),d(f,"class","bottle bottle-1 svelte-1lj78j6"),d(l,"class","water-bottle svelte-1lj78j6"),d(m,"class","cap svelte-1lj78j6"),d(h,"id","lvl"),d(h,"class","water-medium  svelte-1lj78j6"),L(h,"water-selected",t[0][1]),d(i,"class","bottle bottle-2 svelte-1lj78j6"),d(a,"class","water-bottle svelte-1lj78j6"),d(y,"class","cap svelte-1lj78j6"),d(j,"id","lvl"),d(j,"class","water-mid-full svelte-1lj78j6"),L(j,"water-selected",t[0][2]),d(_,"class","bottle bottle-3 svelte-1lj78j6"),d(b,"class","water-bottle svelte-1lj78j6"),d(M,"class","cap svelte-1lj78j6"),d(x,"id","lvl"),d(x,"class","water-full  svelte-1lj78j6"),L(x,"water-selected",t[0][3]),d(T,"class","bottle bottle-4 svelte-1lj78j6"),d($,"class","water-bottle svelte-1lj78j6"),d(n,"class","water-level-container svelte-1lj78j6")},m(E,S){V(E,e,S),r(e,n),r(n,l),r(l,s),r(l,u),r(l,f),r(f,p),r(n,v),r(n,a),r(a,m),r(a,o),r(a,i),r(i,h),r(n,w),r(n,b),r(b,y),r(b,C),r(b,_),r(_,j),r(n,A),r(n,$),r($,M),r($,q),r($,T),r(T,x)},p(E,[S]){S&1&&L(p,"water-selected",E[0][0]),S&1&&L(h,"water-selected",E[0][1]),S&1&&L(j,"water-selected",E[0][2]),S&1&&L(x,"water-selected",E[0][3])},i:F,o:F,d(E){E&&U(e)}}}function gt(t,e,n){let{status:l}=e;return t.$$set=s=>{"status"in s&&n(0,l=s.status)},[l]}class bt extends nt{constructor(e){super(),et(this,e,gt,_t,R,{status:0})}}function jt(t){let e,n,l,s,u,f,p,v,a,m,o,i,h,w,b,y,C;return i=new bt({props:{status:t[1]}}),{c(){e=c("main"),n=c("h1"),n.textContent="Casa Kombi Amora",l=g(),s=c("p"),s.textContent="DUCHA",u=g(),f=c("p"),p=c("button"),p.textContent="Lendo...",v=g(),a=c("div"),m=c("span"),m.textContent="Caixa do Banho",o=g(),ht(i.$$.fragment),h=g(),w=c("p"),w.innerHTML=`<a href="/update"><button class="button">Update OTA</button></a> 
    <a href="/edit"><button class="button">Edit Files</button></a> 
    <a href="/webserial"><button class="button">WebSerial</button></a>`,d(p,"id","btn_shower"),d(p,"class","button"),d(m,"class","sensor-labels svelte-tazeyg")},m(_,j){V(_,e,j),r(e,n),r(e,l),r(e,s),r(e,u),r(e,f),r(f,p),t[3](p),r(e,v),r(e,a),r(a,m),r(a,o),Z(i,a,null),r(a,h),r(a,w),b=!0,y||(C=rt(p,"click",t[2]),y=!0)},p(_,[j]){const A={};j&2&&(A.status=_[1]),i.$set(A)},i(_){b||(Y(i.$$.fragment,_),b=!0)},o(_){vt(i.$$.fragment,_),b=!1},d(_){_&&U(e),t[3](null),tt(i),y=!1,C()}}}function wt(t,e,n){let l,s="0",u=[0,0,0,0];function f(){if(console.log("clickShower shower_status",s),n(0,l.textContent="Carregando...",l),n(0,l.ariaDisabled=!0,l),s){let o=s=="0"?"1":"0";console.log("send_status",o),v("Enviando...",!1),fetch(`/shower?p=${o}`).then(i=>i.json()).catch(i=>{console.log(i),n(0,l.textContent="Erro!",l)}).finally(()=>n(0,l.ariaDisabled=!1,l))}}function p(o=!0){v(o?"Ligar":"Desligar",!1),o?l.classList.remove("button2"):l.classList.add("button2")}function v(o,i=!1){o!=null&&n(0,l.textContent=o,l),n(0,l.ariaDisabled=i,l)}function a(o){s=o,v(o==1?"Desligar":"Ligar",!1),p(o!=1)}ct(()=>{if(window.EventSource){var o=new EventSource("/events");o.addEventListener("open",function(i){console.log("Events Connected")},!1),o.addEventListener("error",function(i){i.target.readyState!=EventSource.OPEN&&console.log("Events Disconnected")},!1),o.addEventListener("shower_box",function(i){console.log("shower_box",i.data);const h=JSON.parse(i.data);n(1,u=h.cx1)},!1),o.addEventListener("shower_status",function(i){console.log("shower_status",i.data),a(i.data)},!1),o.addEventListener("controller_status",function(i){try{const h=JSON.parse(i.data);console.log("controller_status obj:",h)}catch{console.log("error with controller_status:",i.data)}},!1),o.addEventListener("time",function(i){console.log("date time: ",i.data)},!1)}});function m(o){I[o?"unshift":"push"](()=>{l=o,n(0,l)})}return[l,u,f,m]}class yt extends nt{constructor(e){super(),et(this,e,wt,jt,R,{})}}new yt({target:document.getElementById("app")});
